var u="0.0.5";var l="\u{1F3BC} Cumbia:",v=t=>console.error(`${l} ${t}`),b=t=>console.warn(`${l} ${t}`),L=t=>console.info(`${l} ${t}`),a={error:v,warn:b,info:L};var h=t=>{let e="data-value",r={};return t.querySelectorAll(`[${e}]`).forEach(o=>{let n=o.getAttribute(e)||"default_name",c=o.innerHTML;o.tagName==="INPUT"&&(c=o.value),r[n]={el:o,value:c}}),r},p=h;var E=(t,e,r,{prevent:s})=>o=>{let n=e[r];if(s&&o.preventDefault(),!n)return a.warn(`Action -->"${r}"<-- not defined in component.`);let c=p(t);n(c)},i=E;var M=(t,e)=>{let r="data-action";t.querySelectorAll(`[${r}]`).forEach(o=>{let n=o.getAttribute(r)||"default_action_name";if(n==="submit"){if(t.tagName!=="FORM")return a.error("Trying to handle submit handler outside of form");t.addEventListener("submit",i(t,e,n,{prevent:!0}));return}if(o.tagName==="INPUT"){o.addEventListener("change",i(t,e,n,{prevent:!1}));return}o.addEventListener("click",i(t,e,n,{prevent:!1}))})},f=M;var x=(t,e)=>{let r="data-action-key";t.querySelectorAll(`[${r}]`).forEach(o=>{let n=o.getAttribute(r)||"default_action_name";o.addEventListener("keyup",i(t,e,n,{prevent:!1}))})},d=x;var V=(t,e)=>{let r=p(e);t.init&&t.init(r)},y=V;var $=(t,e,r)=>{let s=r.trim();if(console.log(s),!e.has(s))return a.warn(`Component -->"${s}"<-- was not found.`);let o=e.get(s);if(!o)return a.error("Undefined component");let n=o({el:t});y(n,t),(n==null?void 0:n.actions)&&(f(t,n.actions),d(t,n.actions))},g=$;var C=new Map,m=new Map,A="data-component",H=",",F=()=>{document.querySelectorAll(`[${A}]`).forEach(e=>{if(C.has(e))return;C.set(e,!0),(e.getAttribute(A)||"").split(H).forEach(o=>g(e,m,o))})},T=F;var w=t=>{t.length||a.error("No components passed"),t.forEach(e=>{if(!e.name)return a.error("Component name not defined, please give a name to your component");m.has(e.name)&&a.warn(`Name collision detected. ${e.name} was previously defined`),m.set(e.name,e)}),T()};a.info(`Initializing ${u}`);var et=w;export{et as default};
