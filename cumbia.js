var u="0.0.4";var m="\u{1F3BC} Cumbia:",C=t=>console.error(`${m} ${t}`),v=t=>console.warn(`${m} ${t}`),b=t=>console.info(`${m} ${t}`),a={error:C,warn:v,info:b};var L=t=>{let e="data-value",n={};return t.querySelectorAll(`[${e}]`).forEach(o=>{let r=o.getAttribute(e)||"default_name",c=o.innerHTML;o.tagName==="INPUT"&&(c=o.value),n[r]={el:o,value:c}}),n},p=L;var T=(t,e,n,{prevent:s})=>o=>{let r=e[n];if(s&&o.preventDefault(),!r)return a.warn(`Action -->"${n}"<-- not defined in component.`);let c=p(t);r(c)},i=T;var x=(t,e)=>{let n="data-action";t.querySelectorAll(`[${n}]`).forEach(o=>{let r=o.getAttribute(n)||"default_action_name";if(r==="submit"){if(t.tagName!=="FORM")return a.error("Trying to handle submit handler outside of form");t.addEventListener("submit",i(t,e,r,{prevent:!0}));return}if(o.tagName==="INPUT"){o.addEventListener("change",i(t,e,r,{prevent:!1}));return}o.addEventListener("click",i(t,e,r,{prevent:!1}))})},d=x;var M=(t,e)=>{let n="data-action-key";t.querySelectorAll(`[${n}]`).forEach(o=>{let r=o.getAttribute(n)||"default_action_name";o.addEventListener("keyup",i(t,e,r,{prevent:!1}))})},f=M;var V=(t,e)=>{let n=p(e);t.init&&t.init(n)},y=V;var l=new Map,g=new Map,A="data-component",h=()=>{document.querySelectorAll(`[${A}]`).forEach(e=>{let n=e.getAttribute(A)||"";if(g.has(e))return;if(g.set(e,!0),!l.has(n))return a.warn(`Component -->"${n}"<-- not found.`);let s=l.get(n);if(!s)return a.error("Undefined component");let o=s({el:e});y(o,e),(o==null?void 0:o.actions)&&(d(e,o.actions),f(e,o.actions))})},E=t=>{t.length||a.error("No components passed"),t.forEach(e=>{if(!e.name)return a.error("Component name not defined, please give a name to your component");l.has(e.name)&&a.warn(`Name collision detected. ${e.name} was previously defined`),l.set(e.name,e)}),h()};a.info(`Initializing ${u}`);var z=E;export{l as componentFactory,z as default};
