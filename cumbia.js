var m="\u{1F3BC} Cumbia:",A=t=>console.error(`${m} ${t}`),C=t=>console.warn(`${m} ${t}`),x=t=>console.info(`${m} ${t}`),a={error:A,warn:C,info:x};var L=t=>{let e="data-value",o={};return t.querySelectorAll(`[${e}]`).forEach(n=>{let r=n.getAttribute(e)||"default_name",c=n.innerHTML;n.tagName==="INPUT"&&(c=n.value),o[r]={el:n,value:c}}),o},l=L;var v=(t,e,o,{prevent:s})=>n=>{let r=e[o];if(s&&n.preventDefault(),!r)return a.warn(`Action -->"${o}"<-- not defined in component.`);let c=l(t);r(c)},i=v;var T=(t,e)=>{let o="data-action";t.querySelectorAll(`[${o}]`).forEach(n=>{let r=n.getAttribute(o)||"default_action_name";if(r==="submit"){if(t.tagName!=="FORM")return a.error("Trying to handle submit handler outside of form");t.addEventListener("submit",i(t,e,r,{prevent:!0}));return}if(n.tagName==="INPUT"){n.addEventListener("change",i(t,e,r,{prevent:!1}));return}n.addEventListener("click",i(t,e,r,{prevent:!1}))})},d=T;var M=(t,e)=>{let o="data-action-key";t.querySelectorAll(`[${o}]`).forEach(n=>{let r=n.getAttribute(o)||"default_action_name";n.addEventListener("keyup",i(t,e,r,{prevent:!1}))})},u=M;var V=(t,e)=>{let o=l(e);t.init&&t.init(o)},f=V;var p=new Map,y=new Map,g="data-component",h=()=>{document.querySelectorAll(`[${g}]`).forEach(e=>{let o=e.getAttribute(g)||"";if(y.has(e))return;if(y.set(e,!0),!p.has(o))return a.warn(`Component -->"${o}"<-- not found.`);let s=p.get(o);if(!s)return a.error("Undefined component");let n=s({el:e});f(n,e),(n==null?void 0:n.actions)&&(d(e,n.actions),u(e,n.actions))})},b=t=>{t.length||a.error("No components passed"),t.forEach(e=>{if(!e.name)return a.error("Component name not defined, please give a name to your component");p.has(e.name)&&a.warn(`Name collision detected. ${e.name} was previously defined`),p.set(e.name,e)}),h()};a.info("Initializing");var j=b;export{p as componentFactory,j as default};
